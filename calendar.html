<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å®¶è¨ˆç°¿ã‚¢ãƒ—ãƒª - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</title>
  <link rel="stylesheet" href="style.css"> <style>
    /* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å°‚ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .calendar-container {
      /* form-section ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ */
      background: #f8f9fa;
      padding: 25px;
      border-radius: 15px;
      margin-bottom: 30px;
      text-align: center;
      /* è¿½åŠ : ã‚³ãƒ³ãƒ†ãƒŠã®æœ€å¤§å¹…ã‚’è¨­å®šã—ã€ä¸­å¤®å¯„ã›ã«ã™ã‚‹ */
      max-width: 100%; /* è¦ªè¦ç´ ã®å¹…ã«åˆã‚ã›ã¦æœ€å¤§ã« */
      margin-left: auto;
      margin-right: auto;
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .calendar-header h2 {
      font-size: 24px;
      color: #333;
    }

    .calendar-header button {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #4CAF50;
      transition: color 0.3s;
    }

    .calendar-header button:hover {
      color: #8BC34A;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px; /* ã“ã“ã¯æ®‹ã—ã¦ãŠã */
    }

    .calendar-grid div {
      padding: 10px 5px;
      border-radius: 8px;
      text-align: center;
      font-weight: 600;
      background: white;
      cursor: pointer;
      transition: all 0.2s;
      min-height: 70px; /* æ—¥ä»˜ã‚»ãƒ«ã«æœ€ä½é™ã®é«˜ã•ã‚’æŒãŸã›ã‚‹ */
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      position: relative;
      box-shadow: 0 1px 3px rgba(0,0,0,0.08); /* å„ã‚»ãƒ«ã«è»½ã„å½± */
      border: 1px solid #e0e0e0; /* å„ã‚»ãƒ«ã«è–„ã„ãƒœãƒ¼ãƒ€ãƒ¼ */
    }

    .calendar-grid .day-name {
      background: #e0e0e0;
      color: #555;
      cursor: default;
      font-size: 14px;
      padding: 8px 5px;
      min-height: unset;
      box-shadow: none; /* æ›œæ—¥ãƒ˜ãƒƒãƒ€ãƒ¼ã¯å½±ãªã— */
      border: none; /* æ›œæ—¥ãƒ˜ãƒƒãƒ€ãƒ¼ã¯ãƒœãƒ¼ãƒ€ãƒ¼ãªã— */
    }

    .calendar-grid .day-name.sunday {
        color: #e74c3c; /* èµ¤ */
    }

    .calendar-grid .day-name.saturday {
        color: #3498db; /* é’ */
    }

    .calendar-grid div:not(.day-name):hover {
      background: #e6ffe6;
      border: 1px solid #4CAF50;
    }

    .calendar-grid div.today {
      border: 2px solid #4CAF50;
      background: #f0fff0;
      box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2); /* ä»Šæ—¥ã®æ—¥ä»˜ã«å½± */
    }

    .calendar-grid div.selected-day {
      background: linear-gradient(135deg, #4CAF50 0%, #8BC34A 100%); /* indexã®ãƒœã‚¿ãƒ³ã¨åŒã˜ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ */
      color: white;
      border: 2px solid #4CAF50;
      box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3); /* é¸æŠã•ã‚ŒãŸæ—¥ä»˜ã«å½± */
    }

    .calendar-grid div.empty {
      background: #f0f0f0;
      cursor: default;
      color: #ccc;
      box-shadow: none;
      border: none;
    }

    .calendar-grid div .date-number {
        font-size: 16px;
        margin-bottom: 5px;
        color: #333;
    }

    .calendar-grid div.selected-day .date-number {
        color: white;
    }

    /* åæ”¯è¡¨ç¤º */
    .calendar-grid div .income-badge, .calendar-grid div .expense-badge {
        font-size: 10px;
        padding: 2px 5px;
        border-radius: 5px;
        margin-top: 2px;
        width: calc(100% - 10px);
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        font-weight: normal; /* ãƒãƒƒã‚¸ã®æ–‡å­—ã¯å¤ªå­—ã«ã—ãªã„ */
        box-shadow: 0 1px 2px rgba(0,0,0,0.05); /* ãƒãƒƒã‚¸ã«ã‚‚è»½ã„å½± */
    }

    .calendar-grid div .income-badge {
        background-color: #e6ffe6; /* è–„ã„ç·‘ */
        color: #4CAF50;
        border: 1px solid #4CAF50;
    }

    .calendar-grid div .expense-badge {
        background-color: #fff0ed; /* è–„ã„ã‚ªãƒ¬ãƒ³ã‚¸ */
        color: #FF5722;
        border: 1px solid #FF5722;
    }

    /* é¸æŠã•ã‚ŒãŸæ—¥ä»˜ã®åæ”¯è©³ç´° */
    .selected-date-transactions {
      /* form-section ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ */
      background: #f8f9fa;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      margin-top: 30px; /* indexã®form-sectionã¨åŒã˜ */
    }

    .selected-date-transactions h3 {
      /* form-section h2 ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ */
      color: #4CAF50;
      margin-bottom: 20px;
      font-size: 20px;
      text-align: center; /* ä¸­å¤®å¯„ã› */
    }

    #daily-history-list {
      list-style: none;
      padding: 0;
    }

    #daily-history-list li {
      padding: 12px 15px; /* history-item ã«åˆã‚ã›ã‚‹ */
      margin-bottom: 10px; /* history-item ã«åˆã‚ã›ã‚‹ */
      background: white;
      border-radius: 10px;
      border-left: 4px solid; /* ã‚¿ã‚¤ãƒ—ã«ã‚ˆã£ã¦è‰²ãŒå¤‰ã‚ã‚‹ */
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.3s;
    }

    #daily-history-list li.income {
      border-left-color: #4CAF50;
    }
    #daily-history-list li.expense {
      border-left-color: #FF5722;
    }

    #daily-history-list li:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 10px rgba(0,0,0,0.15);
    }

    #daily-history-list li .transaction-detail {
        flex-grow: 1;
        text-align: left;
    }

    #daily-history-list li .transaction-amount {
        font-weight: 700;
        font-size: 18px; /* history-amount ã«åˆã‚ã›ã‚‹ */
        min-width: 100px; /* é‡‘é¡è¡¨ç¤ºã®å¹…ã‚’ç¢ºä¿ */
        text-align: right;
    }

    #daily-history-list li .transaction-amount.income {
        color: #4CAF50;
    }

    #daily-history-list li .transaction-amount.expense {
        color: #FF5722;
    }

    #daily-history-list li .transaction-category {
        font-size: 14px; /* history-info ã«åˆã‚ã›ã‚‹ */
        color: #555;
        font-weight: 600;
        display: block;
        margin-bottom: 2px;
    }
    #daily-history-list li .transaction-memo {
        font-size: 13px; /* history-memo ã«åˆã‚ã›ã‚‹ */
        color: #777;
        display: block;
    }

    .no-transactions {
      text-align: center;
      color: #777;
      padding: 20px;
      background: white; /* no-transactions ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚‚ãƒœãƒƒã‚¯ã‚¹ã«å…¥ã‚Œã‚‹ */
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }

    /* ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§ã®è¡¨ç¤ºèª¿æ•´ */
    @media (max-width: 600px) {
        .calendar-container {
            padding: 15px; /* ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’å°‘ã—æ¸›ã‚‰ã™ */
        }
        .calendar-grid {
            gap: 2px; /* ã‚»ãƒ«é–“ã®éš™é–“ã‚’ã•ã‚‰ã«ç‹­ã‚ã‚‹ */
        }
        .calendar-grid div {
            padding: 5px 2px;
            min-height: 50px; /* é«˜ã•ã‚’å°‘ã—è©°ã‚ã‚‹ */
        }
        .calendar-grid div .date-number {
            font-size: 12px; /* å°‘ã—å°ã•ã */
            margin-bottom: 2px;
        }
        .calendar-grid div .income-badge, .calendar-grid div .expense-badge {
            font-size: 7px; /* ãƒãƒƒã‚¸ã‚’å°ã•ã */
            padding: 1px 2px;
            width: calc(100% - 4px); /* ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’è€ƒæ…® */
        }
        .calendar-header h2 {
            font-size: 18px; /* æœˆè¡¨ç¤ºã®æ–‡å­—ã‚µã‚¤ã‚ºã‚‚èª¿æ•´ */
        }
        .calendar-header button {
            font-size: 18px; /* ãƒœã‚¿ãƒ³ã®æ–‡å­—ã‚µã‚¤ã‚ºã‚‚èª¿æ•´ */
        }
        #daily-history-list li {
            flex-direction: column;
            align-items: flex-start;
            padding: 10px;
        }
        #daily-history-list li .transaction-amount {
            align-self: flex-end; /* é‡‘é¡ã‚’å³å¯„ã› */
            margin-top: 5px;
        }
        #daily-history-list li .transaction-category,
        #daily-history-list li .transaction-memo {
            text-align: left;
        }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ“… ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</h1>
      <p>æ—¥ä»˜ã”ã¨ã®åæ”¯ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†</p>
      <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ -->
      <div class="nav-links">
        <a href="index.html" class="nav-link">ğŸ  ãƒ›ãƒ¼ãƒ </a>
        <a href="graph.html" class="nav-link">ğŸ“Š ã‚°ãƒ©ãƒ•</a>
        <a href="category_manager.html" class="nav-link">ğŸ·ï¸ ã‚«ãƒ†ã‚´ãƒªç®¡ç†</a>
        <a href="pachinko_index.html" class="nav-link">ğŸ° ãƒ‘ãƒã‚¹ãƒ­åæ”¯</a>
      </div>
    </div>

    <div class="content">
      <div class="calendar-container">
        <div class="calendar-header">
          <button id="prev-month">â€¹</button>
          <h2 id="current-month-year"></h2>
          <button id="next-month">â€º</button>
        </div>
        <div class="calendar-grid" id="calendar-grid">
          <!-- æ›œæ—¥ãƒ˜ãƒƒãƒ€ãƒ¼ -->
          <div class="day-name sunday">æ—¥</div>
          <div class="day-name">æœˆ</div>
          <div class="day-name">ç«</div>
          <div class="day-name">æ°´</div>
          <div class="day-name">æœ¨</div>
          <div class="day-name">é‡‘</div>
          <div class="day-name saturday">åœŸ</div>
          </div>
      </div>

      <div class="selected-date-transactions">
        <h3 id="selected-date-title">é¸æŠã•ã‚ŒãŸæ—¥ä»˜: -</h3>
        <ul id="daily-history-list">
          </ul>
        <p id="no-transactions-message" class="no-transactions" style="display: none;">ã“ã®æ—¥ã®åæ”¯ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
      </div>
    </div>
  </div>

  <script>
    // å…±é€šã®localStorageã‚­ãƒ¼
    const STORAGE_KEY = 'household_account_book_transactions';
    let currentMonth = new Date();
    let selectedDate = null; // é¸æŠã•ã‚ŒãŸæ—¥ä»˜ã‚’ä¿æŒ

    document.addEventListener('DOMContentLoaded', () => {
      renderCalendar();
      document.getElementById('prev-month').addEventListener('click', () => {
        currentMonth.setMonth(currentMonth.getMonth() - 1);
        renderCalendar();
      });
      document.getElementById('next-month').addEventListener('click', () => {
        currentMonth.setMonth(currentMonth.getMonth() + 1);
        renderCalendar();
      });
    });

    function renderCalendar() {
      const monthYearDisplay = document.getElementById('current-month-year');
      const calendarGrid = document.getElementById('calendar-grid');

      // æœˆã®è¡¨ç¤ºã‚’æ›´æ–°
      monthYearDisplay.textContent = `${currentMonth.getFullYear()}å¹´ ${currentMonth.getMonth() + 1}æœˆ`;

      // æ—¢å­˜ã®æ—¥ä»˜ã‚»ãƒ«ã‚’ã‚¯ãƒªã‚¢ï¼ˆæ›œæ—¥ãƒ˜ãƒƒãƒ€ãƒ¼ã¯æ®‹ã™ï¼‰
      // `.day-name` ã‚¯ãƒ©ã‚¹ã‚’æŒãŸãªã„è¦ç´ ã®ã¿ã‚’å‰Šé™¤
      Array.from(calendarGrid.children).forEach(child => {
        if (!child.classList.contains('day-name')) {
          calendarGrid.removeChild(child);
        }
      });

      const year = currentMonth.getFullYear();
      const month = currentMonth.getMonth(); // 0-indexed

      // ãã®æœˆã®æœ€åˆã®æ—¥
      const firstDayOfMonth = new Date(year, month, 1);
      // ãã®æœˆã®æœ€çµ‚æ—¥
      const lastDayOfMonth = new Date(year, month + 1, 0);
      const numDays = lastDayOfMonth.getDate();

      // 1æ—¥ã®æ›œæ—¥ (0:æ—¥, 1:æœˆ, ..., 6:åœŸ)
      const startDay = firstDayOfMonth.getDay();

      // å…ˆæœˆã®ç©ºç™½ã‚’åŸ‹ã‚ã‚‹
      for (let i = 0; i < startDay; i++) {
        const emptyDiv = document.createElement('div');
        emptyDiv.classList.add('empty');
        calendarGrid.appendChild(emptyDiv);
      }

      // ä»Šæ—¥ã®æ—¥ä»˜ã‚’å–å¾—
      const today = new Date();
      const todayYear = today.getFullYear();
      const todayMonth = today.getMonth();
      const todayDate = today.getDate();

      // ä¿å­˜ã•ã‚ŒãŸå…¨å–å¼•ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
      const allTransactions = getTransactions();

      // æ—¥ä»˜ã®ã‚»ãƒ«ã‚’ç”Ÿæˆ
      for (let i = 1; i <= numDays; i++) {
        const dayDiv = document.createElement('div');
        dayDiv.innerHTML = `<span class="date-number">${i}</span>`;
        dayDiv.dataset.date = `${year}-${String(month + 1).padStart(2, '0')}-${String(i).padStart(2, '0')}`;

        // ä»Šæ—¥ã®æ—¥ä»˜ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
        if (year === todayYear && month === todayMonth && i === todayDate) {
          dayDiv.classList.add('today');
        }

        // é¸æŠã•ã‚ŒãŸæ—¥ä»˜ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
        if (selectedDate && dayDiv.dataset.date === selectedDate) {
            dayDiv.classList.add('selected-day');
        }

        // ãã®æ—¥ã®åæ”¯åˆè¨ˆã‚’è¨ˆç®—ã—ã€ãƒãƒƒã‚¸ã‚’è¿½åŠ 
        const dailyTransactions = allTransactions.filter(t => t.date === dayDiv.dataset.date);
        const dailyIncome = dailyTransactions.filter(t => t.type === 'income').reduce((sum, t) => sum + parseFloat(t.amount), 0);
        const dailyExpense = dailyTransactions.filter(t => t.type === 'expense').reduce((sum, t) => sum + parseFloat(t.amount), 0);

        if (dailyIncome > 0) {
            const incomeBadge = document.createElement('span');
            incomeBadge.classList.add('income-badge');
            incomeBadge.textContent = `+${dailyIncome.toLocaleString()}å††`;
            dayDiv.appendChild(incomeBadge);
        }
        if (dailyExpense > 0) {
            const expenseBadge = document.createElement('span');
            expenseBadge.classList.add('expense-badge');
            expenseBadge.textContent = `-${dailyExpense.toLocaleString()}å††`;
            dayDiv.appendChild(expenseBadge);
        }


        dayDiv.addEventListener('click', (event) => {
            // æ—¢ã«é¸æŠã•ã‚Œã¦ã„ã‚‹æ—¥ä»˜ãŒã‚ã‚Œã°ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’è§£é™¤
            const prevSelected = document.querySelector('.calendar-grid .selected-day');
            if (prevSelected) {
                prevSelected.classList.remove('selected-day');
            }
            // æ–°ã—ãé¸æŠã•ã‚ŒãŸæ—¥ä»˜ã«ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’è¿½åŠ 
            dayDiv.classList.add('selected-day');
            selectedDate = dayDiv.dataset.date; // é¸æŠã•ã‚ŒãŸæ—¥ä»˜ã‚’æ›´æ–°
            displayDailyTransactions(selectedDate);
        });

        calendarGrid.appendChild(dayDiv);
      }

      // æœ€å¾Œã®é€±ã®ç©ºç™½ã‚’åŸ‹ã‚ã‚‹
      const totalCells = startDay + numDays;
      const remainingCells = (7 - (totalCells % 7)) % 7; // 7ã®å€æ•°ã«ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã‚»ãƒ«æ•°
      for (let i = 0; i < remainingCells; i++) {
        const emptyDiv = document.createElement('div');
        emptyDiv.classList.add('empty');
        calendarGrid.appendChild(emptyDiv);
      }

      // ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤ºæ›´æ–°å¾Œã€ã‚‚ã—selectedDateãŒç¾åœ¨ã®æœˆã«å«ã¾ã‚Œã¦ã„ã‚Œã°ã€ãã®æ—¥ã®å–å¼•ã‚’è¡¨ç¤º
      // ã¾ãŸã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä»Šæ—¥ã®æ—¥ä»˜ã®å–å¼•ã‚’è¡¨ç¤º
      if (!selectedDate || !selectedDate.startsWith(`${year}-${String(month + 1).padStart(2, '0')}`)) {
          // ç¾åœ¨ã®æœˆã«é¸æŠã•ã‚ŒãŸæ—¥ä»˜ãŒãªã„å ´åˆã€ã¾ãŸã¯ã¾ã ä½•ã‚‚é¸æŠã•ã‚Œã¦ã„ãªã„å ´åˆ
          // ä»Šæ—¥ã®æ—¥ä»˜ã‚’é¸æŠçŠ¶æ…‹ã«ã™ã‚‹ã‹ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½•ã‚‚ã—ãªã„
          // ä»Šå›ã¯ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤ºæ™‚ã«selectedDateãŒnullã§ãªã‘ã‚Œã°ã€ãã®æ—¥ä»˜ã‚’å†é¸æŠã—ã¦è¡¨ç¤ºã™ã‚‹
          if (year === todayYear && month === todayMonth) {
            // ä»Šæ—¥ã®æ—¥ä»˜ãŒç¾åœ¨ã®æœˆã«ã‚ã‚‹å ´åˆã€è‡ªå‹•çš„ã«é¸æŠã—ã¦è¡¨ç¤º
            selectedDate = `${todayYear}-${String(todayMonth + 1).padStart(2, '0')}-${String(todayDate).padStart(2, '0')}`;
            const todayElement = document.querySelector(`.calendar-grid div[data-date="${selectedDate}"]`);
            if (todayElement) {
                todayElement.classList.add('selected-day');
                displayDailyTransactions(selectedDate);
            }
          } else {
            // ç¾åœ¨ã®æœˆã«ä»Šæ—¥ã®æ—¥ä»˜ãŒãªã„å ´åˆã€ã¾ãŸã¯selectedDateãŒnullã®å ´åˆã€è¡¨ç¤ºã‚’ã‚¯ãƒªã‚¢
            document.getElementById('selected-date-title').textContent = `é¸æŠã•ã‚ŒãŸæ—¥ä»˜: -`;
            document.getElementById('daily-history-list').innerHTML = '';
            document.getElementById('no-transactions-message').style.display = 'block';
          }
      } else {
        // selectedDateãŒç¾åœ¨ã®æœˆã«å«ã¾ã‚Œã¦ã„ã‚Œã°ã€ãã®æ—¥ä»˜ã®å–å¼•ã‚’å†è¡¨ç¤º
        displayDailyTransactions(selectedDate);
      }
    }

    function getTransactions() {
      const transactionsJson = localStorage.getItem(STORAGE_KEY);
      return transactionsJson ? JSON.parse(transactionsJson) : [];
    }

    function displayDailyTransactions(date) {
        const selectedDateTitle = document.getElementById('selected-date-title');
        const dailyHistoryList = document.getElementById('daily-history-list');
        const noTransactionsMessage = document.getElementById('no-transactions-message');

        selectedDateTitle.textContent = `é¸æŠã•ã‚ŒãŸæ—¥ä»˜: ${date}`;
        dailyHistoryList.innerHTML = ''; // ãƒªã‚¹ãƒˆã‚’ã‚¯ãƒªã‚¢

        const transactions = getTransactions();
        const dailyTransactions = transactions.filter(t => t.date === date);

        if (dailyTransactions.length === 0) {
            noTransactionsMessage.style.display = 'block';
            return;
        } else {
            noTransactionsMessage.style.display = 'none';
        }

        dailyTransactions.forEach(transaction => {
            const listItem = document.createElement('li');
            const amountClass = transaction.type === 'income' ? 'income' : 'expense';
            const sign = transaction.type === 'income' ? '+' : '-';

            listItem.classList.add(amountClass); // income/expense ã‚¯ãƒ©ã‚¹ã‚’ li è¦ç´ ã«è¿½åŠ 

            listItem.innerHTML = `
                <div class="transaction-detail">
                    <span class="transaction-category">${transaction.mainCategory}</span>
                    ${transaction.memo ? `<span class="transaction-memo">${transaction.memo}</span>` : ''}
                </div>
                <span class="transaction-amount ${amountClass}">${sign}${parseFloat(transaction.amount).toLocaleString()}å††</span>
            `;
            dailyHistoryList.appendChild(listItem);
        });
    }

    // åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚ã«ä»Šæ—¥ã®æ—¥ä»˜ã‚’é¸æŠçŠ¶æ…‹ã«ã™ã‚‹
    const today = new Date();
    selectedDate = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
    // renderCalendarå†…ã§è‡ªå‹•çš„ã«é¸æŠã•ã‚Œã‚‹ã‚ˆã†ã«èª¿æ•´ (DOMContentLoadedã§selectedDateãŒã‚»ãƒƒãƒˆã•ã‚Œã‚‹)
  </script>
</body>
</html>