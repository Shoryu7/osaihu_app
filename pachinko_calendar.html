--- START OF FILE pachinko_calendar.html ---

<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ãƒ‘ãƒãƒ³ã‚³ãƒ»ãƒ‘ãƒã‚¹ãƒ­ ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤º</title>
  <style>
    /* å…¨ä½“çš„ãªãƒªã‚»ãƒƒãƒˆ */
    * { margin: 0; padding: 0; box-sizing: border-box; }

    /* bodyã®ã‚¹ã‚¿ã‚¤ãƒ«: ãƒ•ã‚©ãƒ³ãƒˆã€èƒŒæ™¯ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€æœ€å°é«˜ã•ã€ãƒ‘ãƒ‡ã‚£ãƒ³ã‚° */
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠã®ã‚¹ã‚¿ã‚¤ãƒ«: æœ€å¤§å¹…ã€ä¸­å¤®å¯„ã›ã€èƒŒæ™¯ã€è§’ä¸¸ã€å½±ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼å‡¦ç† */
    .container {
      max-width: 1000px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      overflow: hidden;
    }

    /* ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ«: èƒŒæ™¯ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€æ–‡å­—è‰²ã€ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã€ä¸­å¤®å¯„ã› */
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 30px;
      text-align: center;
    }

    /* ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã‚¿ã‚¤ãƒˆãƒ« */
    .header h1 { font-size: 28px; margin-bottom: 10px; }

    /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ã‚³ãƒ³ãƒ†ãƒŠã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .nav-links {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 15px;
    }

    /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯å€‹åˆ¥ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .nav-link {
      display: inline-block;
      padding: 10px 20px;
      background: rgba(255,255,255,0.2);
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 600;
      transition: all 0.3s;
    }

    /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ãƒ›ãƒãƒ¼æ™‚ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .nav-link:hover {
      background: rgba(255,255,255,0.3);
      transform: translateY(-2px);
    }

    /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .content { padding: 30px; }

    /* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ« (æœˆè¡¨ç¤ºã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³) */
    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 15px;
    }

    /* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã®ã‚°ãƒ«ãƒ¼ãƒ— */
    .calendar-nav {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    /* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .nav-btn {
      padding: 10px 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }

    /* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ãƒ›ãƒãƒ¼æ™‚ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .nav-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    /* ç¾åœ¨ã®æœˆè¡¨ç¤ºãƒ†ã‚­ã‚¹ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .current-month {
      font-size: 24px;
      font-weight: 700;
      color: #667eea;
    }

    /* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æœ¬ä½“ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .calendar {
      background: white;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    /* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚°ãƒªãƒƒãƒ‰ã®ã‚¹ã‚¿ã‚¤ãƒ« (æ›œæ—¥ã¨æ—¥ä»˜ã®é…ç½®) */
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr); /* 7åˆ— */
      gap: 1px;
      background: #e0e0e0; /* ã‚°ãƒªãƒƒãƒ‰ç·šã®è‰² */
    }

    /* æ›œæ—¥ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .calendar-day-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 15px;
      text-align: center;
      font-weight: 600;
      font-size: 14px; /* PCã§ã‚‚å°‘ã—å°ã•ã */
    }

    /* æ—¥ä»˜ã‚»ãƒ«ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .calendar-day {
      background: white;
      padding: 8px; /* ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’å°‘ã—æ¸›ã‚‰ã™ */
      position: relative;
      cursor: pointer;
      transition: all 0.3s;
      display: flex; /* Flexboxã§å†…å®¹ã‚’ç¸¦ã«é…ç½® */
      flex-direction: column;
      align-items: flex-start; /* å·¦å¯„ã› */
      font-size: 13px; /* åŸºæœ¬ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å°‘ã—å°ã•ã */
      min-width: 0; /* flexã‚¢ã‚¤ãƒ†ãƒ ã®æœ€å°å¹…ã‚’0ã«ã™ã‚‹ */
      /* ã“ã“ã‹ã‚‰è¿½è¨˜ãƒ»å¤‰æ›´ */
      min-height: 100px; /* PCè¡¨ç¤ºã§ã®æœ€å°é«˜ã•ã‚’ç¢ºä¿ */
      /* ã“ã“ã¾ã§ */
    }

    /* æ—¥ä»˜ã‚»ãƒ«ãƒ›ãƒãƒ¼æ™‚ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .calendar-day:hover:not(.other-month) { 
        background: #f8f9fa; 
    }
    .calendar-day.other-month:hover {
        cursor: default; /* ä»–ã®æœˆã®æ—¥ä»˜ã¯ã‚«ãƒ¼ã‚½ãƒ«ã‚’å¤‰ãˆãªã„ */
    }

    /* ä»–ã®æœˆã®æ—¥ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .calendar-day.other-month {
      background: #f5f5f5;
      color: #999;
    }

    /* ä»Šæ—¥ã®æ—¥ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .calendar-day.today { background: #fff3cd; }

    /* æ—¥ä»˜ç•ªå·ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .day-number {
      font-weight: 600;
      margin-bottom: 5px;
      color: #333;
      flex-shrink: 0; /* æ—¥ä»˜ç•ªå·ã¯ç¸®ã¾ãªã„ */
    }

    /* ãã®æ—¥ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .day-events {
      font-size: 11px; /* ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒˆã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å°ã•ã */
      flex-grow: 1; /* æ®‹ã‚Šã®é«˜ã•ã‚’åŸ‹ã‚ã‚‹ */
      overflow: hidden; /* ã¯ã¿å‡ºã—ãŸå†…å®¹ã‚’éš ã™ */
      width: 100%; /* è¦ªè¦ç´ ã®å¹…ã„ã£ã±ã„ã«åºƒã’ã‚‹ */
      padding-bottom: 5px; /* åˆè¨ˆåæ”¯ã¨ã®é–“ã«å°‘ã—ã‚¹ãƒšãƒ¼ã‚¹ */
      /* ã“ã“ã‹ã‚‰è¿½è¨˜ãƒ»å¤‰æ›´ */
      max-height: calc(100% - 20px - 13px - 5px - 5px); /* æ—¥ä»˜ç•ªå·ã¨åˆè¨ˆåæ”¯ã®é«˜ã•ã‚’å¼•ã„ãŸæ®‹ã‚Šã€paddingã‚‚è€ƒæ…® */
      /* calc( è¦ªè¦ç´ ã®é«˜ã• - day-numberã®é«˜ã• - day-numberã®margin-bottom - day-eventsã®padding-bottom - day-totalã®é«˜ã• - day-totalã®padding-top - day-totalã®padding-bottom ) */
      /* calc( min-height: 100px - (13px + 5px) - 5px - (13px + 5px + 2px) ) â‰’ 100 - 18 - 5 - 20 = 57px */
      /* ä¸Šè¨˜ã¯å³å¯†ã§ã¯ãªã„ã®ã§èª¿æ•´ãŒå¿…è¦ */
      /* å…·ä½“çš„ãªè¡Œæ•°ã§åˆ¶é™ã™ã‚‹ä¾‹ (line-heightãŒ1.2ã®å ´åˆã€3è¡Œãªã‚‰ 9px * 1.2 * 3 = 32.4pxç¨‹åº¦) */
      /* max-height: 3.6em; /* ç´„3è¡Œåˆ†ã®é«˜ã• */
      /* overflow-y: auto; /* ã‚¤ãƒ™ãƒ³ãƒˆãŒå¤šã„å ´åˆã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’æœ‰åŠ¹ã«ã™ã‚‹ */
      /* ã“ã“ã¾ã§ */
    }

    /* å„ã‚¤ãƒ™ãƒ³ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .event-item {
      padding: 2px 4px; /* ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’æ¸›ã‚‰ã™ */
      margin: 1px 0; /* ãƒãƒ¼ã‚¸ãƒ³ã‚’æ¸›ã‚‰ã™ */
      border-radius: 4px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; /* é•·ã™ãã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’çœç•¥ */
      max-width: 100%; /* è¦ªè¦ç´ ã®å¹…ã«åã‚ã‚‹ */
      box-sizing: border-box; /* ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã€ãƒœãƒ¼ãƒ€ãƒ¼ã‚’å¹…ã«å«ã‚ã‚‹ */
    }
    
    /* ã‚¤ãƒ™ãƒ³ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¢ã‚¤ã‚³ãƒ³ã¨ãƒ†ã‚­ã‚¹ãƒˆã®é–“éš”ã‚’è©°ã‚ã‚‹ */
    .event-item::before {
        margin-right: 2px;
    }

    /* ãƒ—ãƒ©ã‚¹åæ”¯ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .event-positive {
      background: #d4edda;
      color: #155724;
    }

    /* ãƒã‚¤ãƒŠã‚¹åæ”¯ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .event-negative {
      background: #f8d7da;
      color: #721c24;
    }

    /* æ—¥ä»˜ã”ã¨ã®åˆè¨ˆåæ”¯ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .day-total {
      margin-top: auto; /* æ—¥ä»˜ã‚»ãƒ«ã®ä¸‹éƒ¨ã«é…ç½® */
      padding-top: 5px;
      font-weight: 700;
      font-size: 13px; /* åˆè¨ˆåæ”¯ã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å°ã•ã */
      text-align: right;
      width: 100%; /* è¦ªè¦ç´ ã®å¹…ã„ã£ã±ã„ã«åºƒã’ã‚‹ */
      flex-shrink: 0; /* ç¸®ã¾ãªã„ */
      padding-bottom: 2px; /* ã‚»ãƒ«ä¸‹éƒ¨ã¨ã®ã‚¹ãƒšãƒ¼ã‚¹ */
      /* ã“ã“ã‹ã‚‰è¿½è¨˜ãƒ»å¤‰æ›´ */
      position: sticky; /* ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚’stickyã« */
      bottom: 0; /* ã‚»ãƒ«ã®ä¸‹éƒ¨ã«å›ºå®š */
      background: white; /* èƒŒæ™¯è‰²ã‚’è¨­å®šã—ã¦ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒˆã«è¢«ã‚‰ãªã„ã‚ˆã†ã« */
      z-index: 1; /* æ‰‹å‰ã«è¡¨ç¤º */
      box-shadow: 0 -2px 5px rgba(0,0,0,0.05); /* ä¸Šéƒ¨ã«å½±ã‚’ã¤ã‘ã¦è¦‹ã‚„ã™ã */
      /* ã“ã“ã¾ã§ */
    }

    /* æœˆé–“ã‚µãƒãƒªãƒ¼ãƒœãƒƒã‚¯ã‚¹ã®ã‚³ãƒ³ãƒ†ãƒŠã‚¹ã‚¿ã‚¤ãƒ« */
    .summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãª3åˆ— */
      gap: 15px;
      margin-bottom: 30px;
    }

    /* æœˆé–“ã‚µãƒãƒªãƒ¼å€‹åˆ¥ã®ãƒœãƒƒã‚¯ã‚¹ã‚¹ã‚¿ã‚¤ãƒ« */
    .summary-box {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      border-radius: 15px;
      text-align: center;
    }

    /* ã‚µãƒãƒªãƒ¼ã®å€¤ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .summary-value {
      font-size: 32px;
      font-weight: 700;
      margin: 10px 0;
    }

    /* ã‚µãƒãƒªãƒ¼ã®ãƒ©ãƒ™ãƒ«ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .summary-label {
      font-size: 14px;
      opacity: 0.9;
    }
    
    /* === ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰ã®ã‚¹ã‚¿ã‚¤ãƒ« === */
    .popup-overlay {
      display: none; /* åˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤º */
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .popup-overlay.is-visible {
      opacity: 1;
      visibility: visible;
    }

    .popup-content {
      background: white;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      width: 90%;
      max-width: 400px;
      max-height: 80vh; /* ç”»é¢ã®80%ã¾ã§ */
      overflow-y: auto; /* å†…å®¹ãŒå¤šã‘ã‚Œã°ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« */
      position: relative;
      transform: translateY(20px);
      transition: transform 0.3s ease;
    }

    .popup-overlay.is-visible .popup-content {
        transform: translateY(0);
    }

    .popup-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        border-bottom: 1px solid #eee;
        padding-bottom: 10px;
    }

    .popup-header h3 {
        font-size: 20px;
        color: #667eea;
        margin: 0;
    }

    .popup-close-btn {
        background: none;
        border: none;
        font-size: 28px;
        color: #999;
        cursor: pointer;
        line-height: 1;
        transition: color 0.2s;
    }

    .popup-close-btn:hover {
        color: #333;
    }

    .popup-events-list {
        list-style: none;
        padding: 0;
        margin: 0 0 15px 0;
    }

    .popup-events-list li {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px dashed #f0f0f0;
        font-size: 14px;
    }
    .popup-events-list li:last-child {
        border-bottom: none;
    }

    .popup-event-info {
        flex-grow: 1;
        text-align: left;
        color: #333;
    }

    .popup-event-machine {
        font-weight: 600;
        display: block;
    }

    .popup-event-genre {
        font-size: 12px;
        color: #777;
    }

    .popup-event-diff {
        font-weight: 700;
        font-size: 15px;
        min-width: 90px;
        text-align: right;
    }
    .popup-event-diff.positive {
        color: #2ecc71;
    }
    .popup-event-diff.negative {
        color: #e74c3c;
    }

    .popup-total-diff {
        font-size: 18px;
        font-weight: 700;
        text-align: right;
        padding-top: 10px;
        border-top: 1px solid #eee;
    }
    .popup-total-diff.positive {
        color: #28a745;
    }
    .popup-total-diff.negative {
        color: #dc3545;
    }
    .popup-no-events {
        text-align: center;
        color: #777;
        padding: 20px;
    }


    /* === ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§ã®è¡¨ç¤ºèª¿æ•´ (768pxä»¥ä¸‹) === */
    @media (max-width: 768px) {
        body { padding: 10px; }
        .content { padding: 15px; }
        
        /* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ç¸¦ä¸¦ã³ã«å¤‰æ›´ã—ã€é–“éš”ã‚’èª¿æ•´ */
        .calendar-header {
            flex-direction: column;
            gap: 15px;
            padding: 15px;
        }
        .current-month { font-size: 20px; } /* æœˆè¡¨ç¤ºã®æ–‡å­—ã‚µã‚¤ã‚ºã‚’å°ã•ã */
        .nav-btn {
            padding: 8px 16px;
            font-size: 14px;
        }

        /* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚°ãƒªãƒƒãƒ‰ã®ã‚»ãƒ«é–“éš”ã‚’ç‹­ã‚ã‚‹ */
        .calendar-grid {
            gap: 0; /* ã‚»ãƒ«é–“ã®éš™é–“ã‚’ãªãã™ã‹ã€éå¸¸ã«å°ã•ãã™ã‚‹ */
        }
        /* å„æ—¥ä»˜ã‚»ãƒ«ã®ã‚µã‚¤ã‚ºã€ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã€ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’èª¿æ•´ */
        .calendar-day {
            padding: 3px; /* å†…å´ã®ä½™ç™½ã‚’ã•ã‚‰ã«æ¸›ã‚‰ã™ */
            font-size: 10px; /* å…¨ä½“çš„ãªãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å°ã•ã */
            /* ã“ã“ã‹ã‚‰è¿½è¨˜ãƒ»å¤‰æ›´ */
            min-height: 75px; /* ã‚¹ãƒãƒ›è¡¨ç¤ºã§ã®æœ€å°é«˜ã•ã‚’ç¢ºä¿ */
            /* ã“ã“ã¾ã§ */
        }
        /* æ›œæ—¥ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã¨ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚‚èª¿æ•´ */
        .calendar-day-header {
            padding: 8px 3px; 
            font-size: 11px;
        }
        /* æ—¥ä»˜ç•ªå·ã‚’å°ã•ã */
        .day-number {
            font-size: 11px; 
            margin-bottom: 2px;
        }
        /* ã‚¤ãƒ™ãƒ³ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã€ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã€ãƒãƒ¼ã‚¸ãƒ³ã‚’èª¿æ•´ */
        .day-events {
            font-size: 9px; /* ã•ã‚‰ã«å°ã•ã */
            /* ã“ã“ã‹ã‚‰è¿½è¨˜ãƒ»å¤‰æ›´ */
            max-height: calc(100% - 11px - 2px - 2px - 10px - 2px); /* æ—¥ä»˜ç•ªå·ã¨åˆè¨ˆåæ”¯ã®é«˜ã•ã‚’å¼•ã„ãŸæ®‹ã‚Šã€paddingã‚‚è€ƒæ…® */
            /* calc( min-height: 75px - (11px + 2px) - 2px - (10px + 2px + 2px) ) â‰’ 75 - 13 - 2 - 14 = 46px */
            /* max-height: 3.8em; /* ç´„4è¡Œåˆ†ã®é«˜ã• */
            overflow-y: auto; /* ã‚¹ãƒãƒ›ã§ã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ã«ã™ã‚‹ */
            /* ã“ã“ã¾ã§ */
        }
        .event-item {
            padding: 1px 2px;
            font-size: 9px; /* ã•ã‚‰ã«å°ã•ã */
            margin: 0 0 1px 0; /* ä¸Šä¸‹ã®ãƒãƒ¼ã‚¸ãƒ³ã‚’è©°ã‚ã‚‹ */
            line-height: 1.2; /* è¡Œã®é«˜ã•ã‚’è©°ã‚ã‚‹ */
        }
        /* åˆè¨ˆåæ”¯ã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã¨ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’èª¿æ•´ */
        .day-total {
            font-size: 10px; 
            padding-top: 2px;
        }
        
        /* ã‚µãƒãƒªãƒ¼ãƒœãƒƒã‚¯ã‚¹ã‚’1åˆ—ã«ã™ã‚‹ */
        .summary {
            grid-template-columns: 1fr; 
        }
        /* ã‚µãƒãƒªãƒ¼ã®å€¤ã‚’å°ã•ã */
        .summary-value {
            font-size: 24px; 
        }

        /* ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®èª¿æ•´ */
        .popup-content {
            padding: 15px;
            max-width: 95%;
        }
        .popup-header h3 {
            font-size: 18px;
        }
        .popup-close-btn {
            font-size: 24px;
        }
        .popup-events-list li {
            padding: 8px 0;
            font-size: 13px;
        }
        .popup-event-diff {
            font-size: 14px;
            min-width: 80px;
        }
        .popup-total-diff {
            font-size: 16px;
        }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ“… ãƒ‘ãƒãƒ³ã‚³ãƒ»ãƒ‘ãƒã‚¹ãƒ­ ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤º</h1>
      <p>æœˆã”ã¨ã®åæ”¯ã‚’ä¸€è¦§ã§ç¢ºèª</p>
      <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ -->
      <div class="nav-links">
        <a href="index.html" class="nav-link">ğŸ  å®¶è¨ˆç°¿ãƒ›ãƒ¼ãƒ </a>
        <a href="register.html" class="nav-link">ğŸ“ æ©Ÿç¨®ç™»éŒ²</a>
        <a href="pachinko_index.html" class="nav-link">ğŸ° åæ”¯ç™»éŒ²</a>
        <a href="pachinko_graph.html" class="nav-link">ğŸ“Š ã‚°ãƒ©ãƒ•</a>
        <a href="pachinko_gacha.html" class="nav-link">ğŸ° ã‚¬ãƒãƒ£</a> 
      </div>
    </div>

    <div class="content">
      <!-- æœˆé–“ã‚µãƒãƒªãƒ¼è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
      <div class="summary">
        <div class="summary-box">
          <div class="summary-label">ä»Šæœˆã®ç·æŠ•è³‡é¡</div>
          <div class="summary-value" id="month-investment">Â¥0</div>
        </div>
        <div class="summary-box">
          <div class="summary-label">ä»Šæœˆã®ç·å›åé¡</div>
          <div class="summary-value" id="month-return">Â¥0</div>
        </div>
        <div class="summary-box">
          <div class="summary-label">ä»Šæœˆã®åæ”¯</div>
          <div class="summary-value" id="month-diff">Â¥0</div>
        </div>
      </div>

      <!-- ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ˜ãƒƒãƒ€ãƒ¼ (æœˆç§»å‹•ãƒœã‚¿ãƒ³ã€æœˆè¡¨ç¤ºã€ä»Šæ—¥ãƒœã‚¿ãƒ³) -->
      <div class="calendar-header">
        <div class="calendar-nav">
          <button class="nav-btn" onclick="previousMonth()">â—€ å‰æœˆ</button>
          <div class="current-month" id="current-month"></div>
          <button class="nav-btn" onclick="nextMonth()">æ¬¡æœˆ â–¶</button>
        </div>
        <button class="nav-btn" onclick="goToday()">ä»Šæ—¥</button>
      </div>

      <!-- ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æœ¬ä½“ -->
      <div class="calendar">
        <div class="calendar-grid" id="calendar-grid"></div>
      </div>
    </div>
  </div>

  <!-- ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰ã®HTMLæ§‹é€  -->
  <div id="event-popup-overlay" class="popup-overlay">
    <div class="popup-content">
      <div class="popup-header">
        <h3 id="popup-date-title"></h3>
        <button class="popup-close-btn" id="popup-close-btn">&times;</button>
      </div>
      <ul id="popup-events-list" class="popup-events-list">
        <!-- ã‚¤ãƒ™ãƒ³ãƒˆã¯ã“ã“ã«å‹•çš„ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
      </ul>
      <p id="popup-no-events" class="popup-no-events" style="display: none;">ã“ã®æ—¥ã®åæ”¯ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
      <div id="popup-total-diff" class="popup-total-diff"></div>
    </div>
  </div>

<script>
    // ç¾åœ¨è¡¨ç¤ºã—ã¦ã„ã‚‹å¹´ã¨æœˆ (0-indexed: 0ãŒ1æœˆ)
    let currentYear = new Date().getFullYear();
    let currentMonth = new Date().getMonth();

    // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—è¦ç´ ã®å–å¾—
    const popupOverlay = document.getElementById('event-popup-overlay');
    const popupCloseBtn = document.getElementById('popup-close-btn');
    const popupDateTitle = document.getElementById('popup-date-title');
    const popupEventsList = document.getElementById('popup-events-list');
    const popupNoEvents = document.getElementById('popup-no-events');
    const popupTotalDiff = document.getElementById('popup-total-diff');

    /**
     * ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹é–¢æ•°
     * @returns {Array<Object>} å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã®é…åˆ—
     */
    function getHistory() {
      return JSON.parse(localStorage.getItem("history") || "[]");
    }

    /**
     * ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹é–¢æ•°
     */
    function renderCalendar() {
      const grid = document.getElementById("calendar-grid");
      grid.innerHTML = ""; // æ—¢å­˜ã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å†…å®¹ã‚’ã‚¯ãƒªã‚¢

      // æ›œæ—¥ãƒ˜ãƒƒãƒ€ãƒ¼ã®ç”Ÿæˆ
      const weekdays = ["æ—¥", "æœˆ", "ç«", "æ°´", "æœ¨", "é‡‘", "åœŸ"];
      weekdays.forEach(day => {
        const header = document.createElement("div");
        header.className = "calendar-day-header";
        header.textContent = day;
        grid.appendChild(header);
      });

      // ç¾åœ¨ã®æœˆã®æƒ…å ±ã‚’å–å¾—
      const firstDay = new Date(currentYear, currentMonth, 1); // ä»Šæœˆã®1æ—¥
      const lastDay = new Date(currentYear, currentMonth + 1, 0); // ä»Šæœˆã®æœ€çµ‚æ—¥
      const prevLastDay = new Date(currentYear, currentMonth, 0); // å…ˆæœˆã®æœ€çµ‚æ—¥
      
      const firstDayOfWeek = firstDay.getDay(); // ä»Šæœˆã®1æ—¥ã®æ›œæ—¥ (0:æ—¥, 1:æœˆ...)
      const daysInMonth = lastDay.getDate(); // ä»Šæœˆã®æ—¥æ•°
      const daysInPrevMonth = prevLastDay.getDate(); // å…ˆæœˆã®æ—¥æ•°

      // ä»Šæ—¥ã®æ—¥ä»˜ã‚’å–å¾— (todayã‚¯ãƒ©ã‚¹ä»˜ä¸ã®ãŸã‚)
      const today = new Date();
      const isCurrentMonth = today.getFullYear() === currentYear && today.getMonth() === currentMonth;
      const todayDate = today.getDate();

      // å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã‚’æ—¥ä»˜ã”ã¨ã«æ•´ç†ã™ã‚‹ãŸã‚ã®ãƒãƒƒãƒ—
      const eventsByDate = {};
      getHistory().forEach(item => {
        const date = item.date;
        if (!eventsByDate[date]) {
          eventsByDate[date] = [];
        }
        eventsByDate[date].push(item);
      });

      // å‰æœˆã®æ—¥ä»˜ã‚»ãƒ«ã‚’ç”Ÿæˆ
      for (let i = firstDayOfWeek - 1; i >= 0; i--) {
        const day = daysInPrevMonth - i;
        const cell = createDayCell(day, true, false, null); // ä»–ã®æœˆã®ã‚»ãƒ«ã«ã¯ã‚¤ãƒ™ãƒ³ãƒˆã¯è¨­å®šã—ãªã„
        grid.appendChild(cell);
      }

      // å½“æœˆã®æ—¥ä»˜ã‚»ãƒ«ã‚’ç”Ÿæˆ
      for (let day = 1; day <= daysInMonth; day++) {
        const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
        const isToday = isCurrentMonth && day === todayDate;
        const events = eventsByDate[dateStr] || [];
        const cell = createDayCell(day, false, isToday, events, dateStr); // dateStrã‚’æ¸¡ã™
        grid.appendChild(cell);
      }

      // æ¬¡æœˆã®æ—¥ä»˜ã‚»ãƒ«ã‚’ç”Ÿæˆ (ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚°ãƒªãƒƒãƒ‰ã‚’å¸¸ã«6é€±åˆ†è¡¨ç¤ºã™ã‚‹ãŸã‚)
      const totalDisplayCells = firstDayOfWeek + daysInMonth;
      let cellsToFill = 0;
      if (totalDisplayCells <= 35) { // 5é€±åˆ†ã§è¶³ã‚Šã‚‹å ´åˆã€6é€±ç›®ã¾ã§åŸ‹ã‚ã‚‹
          cellsToFill = 35 - totalDisplayCells;
      } else { // 6é€±ç›®ãŒå¿…è¦ãªå ´åˆ
          cellsToFill = 42 - totalDisplayCells;
      }

      for (let i = 0; i < cellsToFill; i++) {
        const day = i + 1; // æ¬¡æœˆã®æ—¥ä»˜ã¯1ã‹ã‚‰é–‹å§‹
        const cell = createDayCell(day, true, false, null); // ä»–ã®æœˆã®ã‚»ãƒ«ã«ã¯ã‚¤ãƒ™ãƒ³ãƒˆã¯è¨­å®šã—ãªã„
        grid.appendChild(cell);
      }

      // æœˆåè¡¨ç¤ºã‚’æ›´æ–°
      document.getElementById("current-month").textContent = 
        `${currentYear}å¹´ ${currentMonth + 1}æœˆ`;

      // æœˆé–“é›†è¨ˆã‚’æ›´æ–°
      updateMonthlySummary();
    }

    /**
     * æ—¥ä»˜ã‚»ãƒ«ã‚’ä½œæˆã™ã‚‹ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
     * @param {number} day - æ—¥ä»˜ (ä¾‹: 1, 2, ...)
     * @param {boolean} isOtherMonth - ä»–ã®æœˆã®æ—¥ä»˜ã‹ã©ã†ã‹
     * @param {boolean} isToday - ä»Šæ—¥ã®æ—¥ä»˜ã‹ã©ã†ã‹
     * @param {Array<Object>} events - ãã®æ—¥ã®åæ”¯ã‚¤ãƒ™ãƒ³ãƒˆã®é…åˆ—
     * @param {string} dateStr - ãã®æ—¥ã®æ—¥ä»˜æ–‡å­—åˆ— (YYYY-MM-DD)
     * @returns {HTMLElement} ä½œæˆã•ã‚ŒãŸæ—¥ä»˜ã‚»ãƒ«è¦ç´ 
     */
    function createDayCell(day, isOtherMonth, isToday, events = [], dateStr = null) {
      const cell = document.createElement("div");
      cell.className = "calendar-day";
      if (isOtherMonth) cell.classList.add("other-month");
      if (isToday) cell.classList.add("today");

      const dayNumber = document.createElement("div");
      dayNumber.className = "day-number";
      dayNumber.textContent = day;
      cell.appendChild(dayNumber);

      // ä»–ã®æœˆã®æ—¥ã§ãªãã€ã‚¤ãƒ™ãƒ³ãƒˆãŒã‚ã‚‹å ´åˆã€ã¾ãŸã¯ã‚¯ãƒªãƒƒã‚¯å¯èƒ½ã«ã™ã‚‹å ´åˆ
      if (!isOtherMonth) {
        // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ 
        cell.addEventListener('click', () => {
          showEventPopup(dateStr);
        });

        if (events.length > 0) {
            const eventsDiv = document.createElement("div");
            eventsDiv.className = "day-events";

            let totalDiff = 0;
            events.forEach(event => {
                totalDiff += event.diff;
                const genreIcon = event.genre === 'pachinko' ? 'ğŸ¯' : 'ğŸ°';
                // æ©Ÿç¨®åã¯ã“ã“ã§ã¯è¡¨ç¤ºã›ãšã€ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã§ç¢ºèªã™ã‚‹ã‚ˆã†ã«å¤‰æ›´
                // const machineName = event.machine;
                
                const eventItem = document.createElement("div");
                eventItem.className = `event-item ${event.diff >= 0 ? 'event-positive' : 'event-negative'}`;
                // æ©Ÿç¨®åã§ã¯ãªãã€åæ”¯ã‚¿ã‚¤ãƒ—ã‚’ç¤ºã™ã‚¢ã‚¤ã‚³ãƒ³ã®ã¿ã«
                eventItem.textContent = `${genreIcon}`; 
                eventsDiv.appendChild(eventItem);
            });

            // æ—¥ã”ã¨ã®åˆè¨ˆåæ”¯ã‚’è¡¨ç¤º
            const totalDiv = document.createElement("div");
            totalDiv.className = "day-total";
            totalDiv.style.color = totalDiff >= 0 ? '#2ecc71' : '#e74c3c'; // ãƒ—ãƒ©ã‚¹ã¯ç·‘ã€ãƒã‚¤ãƒŠã‚¹ã¯èµ¤
            totalDiv.textContent = `${totalDiff >= 0 ? '+' : ''}${totalDiff.toLocaleString()}å††`;
            
            cell.appendChild(eventsDiv); // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒˆã‚’è¿½åŠ 
            cell.appendChild(totalDiv); // åˆè¨ˆåæ”¯ã‚’è¿½åŠ 
        }
      }

      return cell;
    }

    /**
     * æœˆé–“ã‚µãƒãƒªãƒ¼ (ç·æŠ•è³‡ã€ç·å›åã€åæ”¯) ã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
     */
    function updateMonthlySummary() {
      const history = getHistory();
      const monthStart = new Date(currentYear, currentMonth, 1);
      const monthEnd = new Date(currentYear, currentMonth + 1, 1); // ç¿Œæœˆã®1æ—¥ (ã“ã®æ—¥æœªæº€ãŒå½“æœˆ)

      let totalInvestment = 0;
      let totalReturn = 0;

      history.forEach(item => {
        const itemDate = new Date(item.date);
        // å½“æœˆå†…ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚’æŠ½å‡º
        if (itemDate >= monthStart && itemDate < monthEnd) {
          totalInvestment += item.investment;
          totalReturn += item.return;
        }
      });
      
      const totalDiff = totalReturn - totalInvestment;

      // å„è¦ç´ ã«å€¤ã‚’è¨­å®š
      document.getElementById("month-investment").textContent = `Â¥${totalInvestment.toLocaleString()}`;
      document.getElementById("month-return").textContent = `Â¥${totalReturn.toLocaleString()}`;
      
      // åæ”¯ã®è¡¨ç¤ºã¨è‰²ã‚’æ›´æ–°
      const diffElement = document.getElementById("month-diff");
      diffElement.textContent = `Â¥${totalDiff.toLocaleString()}`;
      diffElement.parentElement.style.background = totalDiff >= 0 
        ? 'linear-gradient(135deg, #28a745 0%, #218838 100%)' // ãƒ—ãƒ©ã‚¹ã®å ´åˆã¯ç·‘ç³»
        : 'linear-gradient(135deg, #dc3545 0%, #c82333 100%)'; // ãƒã‚¤ãƒŠã‚¹ã®å ´åˆã¯èµ¤ç³»
    }

    /**
     * æŒ‡å®šã•ã‚ŒãŸæ—¥ä»˜ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã§è¡¨ç¤ºã™ã‚‹é–¢æ•°
     * @param {string} dateStr - è¡¨ç¤ºã™ã‚‹æ—¥ä»˜æ–‡å­—åˆ— (YYYY-MM-DD)
     */
    function showEventPopup(dateStr) {
        const eventsByDate = {};
        getHistory().forEach(item => {
            const date = item.date;
            if (!eventsByDate[date]) {
                eventsByDate[date] = [];
            }
            eventsByDate[date].push(item);
        });

        const events = eventsByDate[dateStr] || [];

        popupDateTitle.textContent = `${new Date(dateStr).getMonth() + 1}æœˆ${new Date(dateStr).getDate()}æ—¥ã®åæ”¯`;
        popupEventsList.innerHTML = ''; // ãƒªã‚¹ãƒˆã‚’ã‚¯ãƒªã‚¢
        popupNoEvents.style.display = 'none';
        popupTotalDiff.style.display = 'none';

        if (events.length === 0) {
            popupNoEvents.style.display = 'block';
            popupTotalDiff.textContent = 'åˆè¨ˆ: Â¥0';
            popupTotalDiff.classList.remove('positive', 'negative');
        } else {
            let totalDiff = 0;
            events.forEach(event => {
                totalDiff += event.diff;
                const genreIcon = event.genre === 'pachinko' ? 'ğŸ¯' : 'ğŸ°';
                const listItem = document.createElement('li');
                const diffClass = event.diff >= 0 ? 'positive' : 'negative';
                const diffText = `${event.diff >= 0 ? '+' : ''}${event.diff.toLocaleString()}å††`;

                listItem.innerHTML = `
                    <div class="popup-event-info">
                        <span class="popup-event-machine">${genreIcon} ${event.machine}</span>
                        <span class="popup-event-genre">${event.genre === 'pachinko' ? 'ãƒ‘ãƒãƒ³ã‚³' : 'ãƒ‘ãƒã‚¹ãƒ­'}</span>
                    </div>
                    <span class="popup-event-diff ${diffClass}">${diffText}</span>
                `;
                popupEventsList.appendChild(listItem);
            });

            // åˆè¨ˆåæ”¯ã‚’è¡¨ç¤º
            popupTotalDiff.textContent = `åˆè¨ˆ: ${totalDiff >= 0 ? '+' : ''}${totalDiff.toLocaleString()}å††`;
            popupTotalDiff.classList.remove('positive', 'negative'); // ä¸€åº¦ä¸¡æ–¹å‰Šé™¤
            popupTotalDiff.classList.add(totalDiff >= 0 ? 'positive' : 'negative');
            popupTotalDiff.style.display = 'block';
        }

        popupOverlay.classList.add('is-visible');
        document.body.style.overflow = 'hidden'; // èƒŒæ™¯ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ç„¡åŠ¹åŒ–
    }

    /**
     * ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’é–‰ã˜ã‚‹é–¢æ•°
     */
    function hideEventPopup() {
        popupOverlay.classList.remove('is-visible');
        document.body.style.overflow = ''; // èƒŒæ™¯ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’æœ‰åŠ¹åŒ–
    }

    // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã«ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š
    popupCloseBtn.addEventListener('click', hideEventPopup);
    // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼ˆèƒŒæ™¯éƒ¨åˆ†ï¼‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã«é–‰ã˜ã‚‹
    popupOverlay.addEventListener('click', (e) => {
        if (e.target === popupOverlay) { // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è‡ªä½“ã§ã¯ãªãèƒŒæ™¯ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸå ´åˆ
            hideEventPopup();
        }
    });


    /**
     * å‰æœˆã¸ç§»å‹•ã™ã‚‹é–¢æ•°
     */
    function previousMonth() {
      currentMonth--;
      if (currentMonth < 0) {
        currentMonth = 11; // 12æœˆã«æˆ»ã‚‹
        currentYear--;     // å¹´ã‚’æ¸›ã‚‰ã™
      }
      renderCalendar();
    }

    /**
     * æ¬¡æœˆã¸ç§»å‹•ã™ã‚‹é–¢æ•°
     */
    function nextMonth() {
      currentMonth++;
      if (currentMonth > 11) {
        currentMonth = 0;  // 1æœˆã«é€²ã‚€
        currentYear++;     // å¹´ã‚’å¢—ã‚„ã™
      }
      renderCalendar();
    }

    /**
     * ä»Šæœˆã¸ç§»å‹•ã™ã‚‹é–¢æ•°
     */
    function goToday() {
      const today = new Date();
      currentYear = today.getFullYear();
      currentMonth = today.getMonth();
      renderCalendar();
    }

    // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’åˆæœŸè¡¨ç¤º
    renderCalendar();
  </script>
</body>
</html>